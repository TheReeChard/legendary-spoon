<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PlayWard - Select Default Theme</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="header visible" id="main-header">
      <div
        class="header-logo"
        onclick="goToPage('index.html')"
        style="cursor: pointer"
      >
        <img
          src="images/logo.png"
          alt="PlayWard Logo"
          class="header-logo-img"
        />
        <span class="logo-text">PlayWard</span>
      </div>
      <nav class="header-nav">
        <a href="about.html">About Us</a>
        <span>|</span>
        <a href="support.html">Support</a>
      </nav>
    </header>

    <main class="main-content with-header">
      <section class="page active">
        <div class="page-wrapper">
          <div class="page-content page-with-sidebar">
            <div class="dynamic-sidebar" id="dynamic-sidebar">
              <!-- Dynamic sidebar content -->
            </div>
            <div class="page-main">
              <h1 class="page-title">Select a Default Theme</h1>
              <p class="page-subtitle">
                Select one of our default themes from the icons below. If you
                decide you want to create a custom theme instead, please select
                the Customize icon on the left side of the page.
              </p>

              <div class="theme-grid-new">
                <div
                  class="theme-item"
                  data-theme="superheroes"
                  onclick="selectTheme('superheroes')"
                >
                  <div class="theme-circle">
                    <img src="images/superhero.png" alt="Superheroes" />
                  </div>
                  <span class="theme-label">Superheroes</span>
                </div>
                <div
                  class="theme-item"
                  data-theme="animals"
                  onclick="selectTheme('animals')"
                >
                  <div class="theme-circle">
                    <img src="images/animal.png" alt="Animals" />
                  </div>
                  <span class="theme-label">Animals</span>
                </div>
                <div
                  class="theme-item"
                  data-theme="nature"
                  onclick="selectTheme('nature')"
                >
                  <div class="theme-circle">
                    <img src="images/nature.png" alt="Nature" />
                  </div>
                  <span class="theme-label">Nature</span>
                </div>
                <div
                  class="theme-item"
                  data-theme="ocean"
                  onclick="selectTheme('ocean')"
                >
                  <div class="theme-circle">
                    <img src="images/ocean.png" alt="Ocean" />
                  </div>
                  <span class="theme-label">Ocean</span>
                </div>
                <div
                  class="theme-item"
                  data-theme="sports"
                  onclick="selectTheme('sports')"
                >
                  <div class="theme-circle">
                    <img src="images/sport.png" alt="Sports" />
                  </div>
                  <span class="theme-label">Sports</span>
                </div>
                <div
                  class="theme-item"
                  data-theme="space"
                  onclick="selectTheme('space')"
                >
                  <div class="theme-circle">
                    <img src="images/space.png" alt="Space" />
                  </div>
                  <span class="theme-label">Space</span>
                </div>
              </div>
            </div>
          </div>
          <div class="progress-breadcrumb" id="progress-breadcrumb"></div>
        </div>
      </section>
    </main>

    <script src="shared.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        generateSidebar("default-themes");
        generateBreadcrumb("default-themes");

        // Highlight currently selected theme
        if (appData.theme) {
          const selected = document.querySelector(
            `.theme-item[data-theme="${appData.theme}"]`,
          );
          if (selected) {
            selected.classList.add("selected");
          }
        }
      });

      function selectTheme(theme) {
        // Remove previous selection
        document.querySelectorAll(".theme-item").forEach((item) => {
          item.classList.remove("selected");
        });

        // Add selection to clicked item
        const selectedItem = document.querySelector(
          `.theme-item[data-theme="${theme}"]`,
        );
        if (selectedItem) {
          selectedItem.classList.add("selected");
        }

        // Save to app data
        appData.theme = theme;
        appData.customTheme = ""; // Clear custom theme
        saveAppData(appData);

        // Navigate to personalization
        setTimeout(() => {
          goToPage("personalization.html");
        }, 300);
      }
    </script>
  </body>
</html>
