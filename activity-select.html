<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PlayWard - Select Activity</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link rel="stylesheet" href="styles.css" />
    <style>
      .activity-grid-new {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 50px;
        margin-top: 40px;
        max-width: 640px;
        margin-left: auto;
        margin-right: auto;
      }
      .activity-grid-new .activity-item {
        flex: 0 0 auto;
        width: 180px;
      }
      .activity-grid-new .activity-circle {
        width: 160px;
        height: 160px;
        margin: 0 auto 12px;
      }
      .activity-grid-new .activity-circle img {
        width: 90px;
        height: 90px;
      }
      .activity-grid-new .activity-label {
        font-size: 18px;
        font-weight: 700;
      }
      html,
      body {
        height: 100%;
      }
      body {
        display: flex;
        flex-direction: column;
      }
      .main-content {
        flex: 1;
        display: flex;
        flex-direction: column;
      }
      .page.active {
        flex: 1;
        display: flex;
        flex-direction: column;
      }
      .page-wrapper {
        flex: 1;
        display: flex;
        flex-direction: column;
        min-height: 100%;
      }
      .page-content {
        flex: 1;
      }
      .grass-footer {
        flex-shrink: 0;
        margin-top: auto;
      }
    </style>
  </head>
  <body>
    <header class="header visible" id="main-header">
      <div
        class="header-logo"
        onclick="goToPage('index.html')"
        style="cursor: pointer"
      >
        <img
          src="images/logo.png"
          alt="PlayWard Logo"
          class="header-logo-img"
        />
        <span class="logo-text">PlayWard</span>
      </div>
      <nav class="header-nav">
        <a href="about.html">About Us</a>
        <span>|</span>
        <a href="support.html">Support</a>
      </nav>
    </header>

    <main class="main-content with-header">
      <section class="page active">
        <div class="page-wrapper">
          <div class="page-content">
            <h1 class="page-title">Select a Prompt Category</h1>
            <p class="page-subtitle">
              This is where you select the type of activity for which to
              generate a prompt for! Simply select one of the icons below to
              choose the activity type and move onto the next page.
            </p>

            <div class="activity-grid-new">
              <div
                class="activity-item"
                data-activity="coloring"
                onclick="selectActivity('coloring')"
              >
                <div class="activity-circle">
                  <img src="images/coloringpage.png" alt="Coloring Page" />
                </div>
                <span class="activity-label">Coloring Page</span>
              </div>
              <div
                class="activity-item"
                data-activity="spot-the-difference"
                onclick="selectActivity('spot-the-difference')"
              >
                <div class="activity-circle">
                  <img src="images/spotdiff.png" alt="Spot the Difference" />
                </div>
                <span class="activity-label">Spot the Differences</span>
              </div>
              <div
                class="activity-item"
                data-activity="hidden-objects"
                onclick="selectActivity('hidden-objects')"
              >
                <div class="activity-circle">
                  <img src="images/hiddenobject.png" alt="Hidden Objects" />
                </div>
                <span class="activity-label">Hidden Objects</span>
              </div>
              <div
                class="activity-item"
                data-activity="crossword"
                onclick="selectActivity('crossword')"
              >
                <div class="activity-circle">
                  <img src="images/crossword.png" alt="Crossword" />
                </div>
                <span class="activity-label">Crossword</span>
              </div>
              <div
                class="activity-item"
                data-activity="wordsearch"
                onclick="selectActivity('wordsearch')"
              >
                <div class="activity-circle">
                  <img src="images/wordsearch.png" alt="Word Search" />
                </div>
                <span class="activity-label">Word Search</span>
              </div>
            </div>
          </div>
          <footer class="grass-footer">
            <img src="images/grass.png" alt="" />
          </footer>
        </div>
      </section>
    </main>

    <script src="shared.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        if (appData.activityType) {
          const selected = document.querySelector(
            `.activity-item[data-activity="${appData.activityType}"]`,
          );
          if (selected) selected.classList.add("selected");
        }
      });

      function selectActivity(activity) {
        document
          .querySelectorAll(".activity-item")
          .forEach((item) => item.classList.remove("selected"));
        const selectedItem = document.querySelector(
          `.activity-item[data-activity="${activity}"]`,
        );
        if (selectedItem) selectedItem.classList.add("selected");
        appData.activityType = activity;
        saveAppData(appData);

        // Crossword and wordsearch go directly to AmuseLabs pages
        if (activity === "crossword") {
          setTimeout(() => goToPage("amuselabs-crossword.html"), 300);
        } else if (activity === "wordsearch") {
          setTimeout(() => goToPage("amuselabs-wordsearch.html"), 300);
        } else {
          setTimeout(() => goToPage("theme-type.html"), 300);
        }
      }
    </script>
  </body>
</html>
