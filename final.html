<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PlayWard - Final Prompt</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="header visible" id="main-header">
      <div
        class="header-logo"
        onclick="goToPage('index.html')"
        style="cursor: pointer"
      >
        <img
          src="images/logo.png"
          alt="PlayWard Logo"
          class="header-logo-img"
        />
        <span class="logo-text">PlayWard</span>
      </div>
      <nav class="header-nav">
        <a href="about.html">About Us</a>
        <span>|</span>
        <a href="support.html">Support</a>
      </nav>
    </header>

    <main class="main-content with-header">
      <section class="page active">
        <div class="page-wrapper">
          <div class="page-content page-with-sidebar">
            <div class="dynamic-sidebar" id="dynamic-sidebar">
              <!-- Dynamic sidebar content -->
            </div>
            <div class="page-main">
              <h1 class="page-title">Review Final Prompt</h1>
              <p class="page-subtitle">
                When your prompt is generated, select the "Copy and Open" button
                which will copy the prompt as well as open the most relevant AI
                based on your selections. From there, simply select the AI's
                chat function and paste the prompt. Once you hit the send
                button, the AI will generate your activity! Make sure to check
                the final product for accuracy as you may need to repeat the
                prompt a couple of times for the AI to get it right.
              </p>

              <div class="final-prompt-section">
                <h3>Final Prompt</h3>
                <p style="font-size: 13px; color: #555; margin-bottom: 10px">
                  If you need to change the prompt, you can either go back to
                  previous selections or click into the text box to type in and
                  change the prompt manually.
                </p>
                <textarea
                  id="generated-prompt"
                  class="prompt-box"
                  style="
                    width: 100%;
                    min-height: 0;
                    resize: none;
                    overflow: hidden;
                    font-family: inherit;
                    font-size: 14px;
                    line-height: 1.6;
                    border: none;
                    outline: none;
                    background: #f0f0f0;
                    border-radius: 12px;
                    padding: 20px;
                    box-sizing: border-box;
                  "
                >
Your generated prompt will appear here...</textarea
                >
                <div
                  style="
                    display: flex;
                    justify-content: flex-end;
                    margin-top: 12px;
                  "
                >
                  <button
                    class="btn btn-primary btn-copy"
                    onclick="copyAndOpenAI()"
                    style="color: #000000"
                  >
                    Copy and Open Gemini
                  </button>
                </div>
                <p
                  style="
                    text-align: right;
                    font-size: 13px;
                    color: #000000;
                    margin-top: 8px;
                  "
                >
                  This template has been tested with XXXX and been verified to
                  <br />
                  work XXX amount of times as of Date.
                </p>
              </div>
            </div>
          </div>
          <div class="breadcrumb-with-back">
            <button
              class="btn btn-outline btn-back"
              onclick="goToPage('review.html')"
            >
              Back
            </button>
            <div class="progress-breadcrumb" id="progress-breadcrumb"></div>
          </div>
        </div>
      </section>
    </main>

    <!-- Copy Notification -->
    <div class="copy-notification" id="copy-notification"></div>

    <script src="shared.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        generateSidebar("review");
        generateBreadcrumb("final");

        // Generate and display the prompt
        const prompt = generatePrompt();
        const ta = document.getElementById("generated-prompt");
        ta.value = prompt;
        ta.style.height = "auto";
        ta.style.height = ta.scrollHeight + "px";
        ta.addEventListener("input", function () {
          this.style.height = "auto";
          this.style.height = this.scrollHeight + "px";
        });
      });

      function copyAndOpenAI() {
        openInAI("gemini");
      }

      function startOver() {
        resetAppData();
        goToPage("index.html");
      }
    </script>
  </body>
</html>
